<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>ðŸ“š Sistem Manajemen Les Inggris</h2>
  </div>
  
  <div class="card shadow-sm mb-4 bg-light">
    <div class="card-body">
      <h5 class="card-title mb-3">
        {{ isEditMode ? 'Edit Kelas' : 'Tambah Kelas Baru' }}
      </h5>

      <div class="row g-2">
        <div class="col-md-3">
          <input [(ngModel)]="form.name" class="form-control" placeholder="Nama Kelas (ex: TOEFL Prep)">
        </div>
        <div class="col-md-2">
          <select [(ngModel)]="form.level" class="form-select">
            <option value="">- Pilih Level -</option>
            <option value="Beginner">Beginner</option>
            <option value="Intermediate">Intermediate</option>
            <option value="Advanced">Advanced</option>
          </select>
        </div>
        <div class="col-md-3">
          <input [(ngModel)]="form.description" class="form-control" placeholder="Deskripsi Singkat">
        </div>
        <div class="col-md-2">
          <input [(ngModel)]="form.price" type="number" class="form-control" placeholder="Harga (Rp)">
        </div>
        <div class="col-md-2">
          <input [(ngModel)]="form.duration" class="form-control" placeholder="Durasi (ex: 3 Bulan)">
        </div>
        
        <div class="col-md-12 mt-3 text-end">
          <button *ngIf="isEditMode" (click)="batal()" class="btn btn-secondary me-2">Batal</button>
          <button (click)="simpan()" class="btn px-4" [ngClass]="isEditMode ? 'btn-warning' : 'btn-primary'">
            {{ isEditMode ? 'Update Data' : 'ðŸ’¾ Simpan Data' }}
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="card shadow-sm">
    <div class="card-header bg-white">
      <h5 class="mb-0">Daftar Kelas Tersedia</h5>
    </div>
    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-dark">
          <tr>
            <th>Nama Kelas</th>
            <th>Level & Deskripsi</th>
            <th>Durasi / Harga</th>
            <th class="text-center">Aksi</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of courses">
            <td class="fw-bold">{{ item.name }}</td>
            <td>
              <span class="badge bg-info text-dark me-1">{{ item.level }}</span>
              <small class="text-muted">{{ item.description }}</small>
            </td>
            <td>
              {{ item.duration }}<br>
              <span class="text-success fw-bold">Rp {{ item.price | number }}</span>
            </td>
            <td class="text-center">
              <button class="btn btn-success btn-sm me-1" (click)="aturJadwal(item)">ðŸ“… Atur Jadwal</button>
              <button class="btn btn-outline-warning btn-sm me-1" (click)="edit(item)">Edit</button>
              <button class="btn btn-outline-danger btn-sm" (click)="hapus(item._id)">Hapus</button>
            </td>
          </tr>
          <tr *ngIf="courses.length === 0">
            <td colspan="4" class="text-center py-5 text-muted">Belum ada data kelas.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>